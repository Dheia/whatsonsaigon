<div class="control-breadcrumb">
	<ul><li><?= trans('netsti.frontend::lang.manage') ?></li></ul>
	<h2 style="color:white; margin-top:4px"><?= trans('netsti.frontend::lang.menu.packages') ?></h2>
</div>
<div class="scoreboard">
	<div class="control-toolbar">
		<div class="toolbar-item toolbar-primary">
			<div data-control="toolbar">
				<a 
					onclick="$.popup({ handler: 'onSearchForm', size: 'large',extraData: { comment_mode: 1} })" 
					href="javascript:;" 
					class="btn btn-primary oc-icon-plus">
					<?= e(trans('backend::lang.relation.add')) ?> <?= e(trans('netsti.frontend::lang.menu.packages')) ?>
				</a>

				<button class="btn btn-success oc-icon-refresh"
					data-request="onUpdatePackages"
					data-request-confirm="<?= e(trans('netsti.frontend::lang.update_confirm')) ?>"
					data-request-update="'list':'#packages-list'"
					data-stripe-load-indicator>
					<?= e(trans('backend::lang.relation.update')) ?> <?= e(trans('netsti.frontend::lang.menu.packages')) ?>
				</button>

				<button class="btn btn-danger oc-icon-minus"
					disabled="disabled"
					onclick="$(this).data('request-data', { checked: $( '#list-installed-packages' ).serialize() })"
					data-request="onRemovePakages"
					data-request-confirm="<?= e(trans('backend::lang.form.confirm_delete')) ?>"
					data-trigger-action="enable"
					data-trigger=".control-list input[type=checkbox]"
					data-trigger-condition="checked"
					data-request-success="$(this).prop('disabled', false)"
					data-request-update="'list':'#packages-list'"
					data-stripe-load-indicator>
					<?= e(trans('backend::lang.relation.remove')) ?> <?= e(trans('netsti.frontend::lang.menu.package')) ?>
				</button>

				<a href="<?= Backend::url('system/settings/update/netsti/frontend/packages') ?>" class="btn btn-default oc-icon-cubes">
					<?= e(trans('netsti.frontend::lang.packages')) ?>
				</a>
			</div>

		</div>
	</div>
</div>

<div class="package-list" id="packages-list">
	<?= $this->listPackages() ?>
</div>